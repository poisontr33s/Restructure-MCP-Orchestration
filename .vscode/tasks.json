{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build MCP System",
      "type": "shell",
      "command": "pnpm build",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": ["$tsc"],
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "Start MCP System",
      "type": "shell",
      "command": "pnpm start",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "dependsOn": ["Build MCP System"]
    },
    {
      "label": "Dev MCP System",
      "type": "shell",
      "command": "pnpm start:dev",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "🔐 Test Microsoft 365 Intelligent Auth",
      "type": "shell",
      "command": "node -e \"const { VSCodeAuthManager } = require('./packages/auth/dist/index.js'); const auth = new VSCodeAuthManager(); auth.initialize().then(() => auth.authenticateWithUI('microsoft')).then(result => console.log('✅ Intelligent Microsoft auth completed:', result.account));\"",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "dependsOn": ["Build MCP System"]
    },
    {
      "label": "🔐 Test Google Workspace Intelligent Auth",
      "type": "shell",
      "command": "node -e \"const { VSCodeAuthManager } = require('./packages/auth/dist/index.js'); const auth = new VSCodeAuthManager(); auth.initialize().then(() => auth.authenticateWithUI('google')).then(result => console.log('✅ Intelligent Google auth completed:', result.account));\"",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "dependsOn": ["Build MCP System"]
    },
    {
      "label": "🔍 Discover Account Capabilities",
      "type": "shell",
      "command": "node -e \"const { VSCodeAuthManager } = require('./packages/auth/dist/index.js'); const auth = new VSCodeAuthManager(); auth.initialize().then(() => auth.getAvailableContent()).then(capabilities => console.log('📋 Available capabilities:', JSON.stringify(capabilities, null, 2)));\"",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "dependsOn": ["Build MCP System"]
    },
    {
      "label": "Microsoft 365 - Personal Account",
      "type": "shell",
      "command": "node -e \"const { M365GraphAgent } = require('./packages/agents/m365-graph/dist/index.js'); M365GraphAgent.createPersonalAccount().then(agent => console.log('✅ Personal account authenticated:', agent.getAuthInfo()?.displayName));\"",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "dependsOn": ["Build MCP System"]
    },
    {
      "label": "Microsoft 365 - Business Account",
      "type": "shell",
      "command": "node -e \"const { M365GraphAgent } = require('./packages/agents/m365-graph/dist/index.js'); M365GraphAgent.createBusinessAccount().then(agent => console.log('✅ Business account authenticated:', agent.getAuthInfo()?.displayName));\"",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "dependsOn": ["Build MCP System"]
    },
    {
      "label": "Google Workspace - Personal Account",
      "type": "shell",
      "command": "node -e \"const { GoogleWorkspaceAgent } = require('./packages/agents/google-workspace/dist/index.js'); GoogleWorkspaceAgent.createPersonalAccount().then(agent => console.log('✅ Google personal account authenticated:', agent.getAuthInfo()?.displayName));\"",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "dependsOn": ["Build MCP System"]
    },
    {
      "label": "Google Workspace - Business Account",
      "type": "shell",
      "command": "node -e \"const { GoogleWorkspaceAgent } = require('./packages/agents/google-workspace/dist/index.js'); GoogleWorkspaceAgent.createWorkspaceAccount().then(agent => console.log('✅ Google Workspace authenticated:', agent.getAuthInfo()?.displayName));\"",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "dependsOn": ["Build MCP System"]
    },
    {
      "label": "Check MCP Status",
      "type": "shell",
      "command": "pnpm exec mcp status",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    }
  ]
}
